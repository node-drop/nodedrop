# Edition: "community" (self-hosted) or "cloud" (SaaS)
NODEDROP_EDITION=community

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/node_drop"
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/node_drop_test"

# Database Connection Pooling (Production)
# Maximum connections in pool (default: 20 for production, 10 for development)
# DB_POOL_MAX=20
# Minimum connections to maintain (default: 5 for production, 2 for development)
# DB_POOL_MIN=5
# Idle connection timeout in milliseconds (default: 30000 for production, 10000 for development)
# DB_IDLE_TIMEOUT_MS=30000
# Connection acquisition timeout in milliseconds (default: 5000)
# DB_CONNECTION_TIMEOUT_MS=5000
# Recycle connections after N uses (production only, default: 7500)
# DB_MAX_USES=7500

# Database SSL/TLS Configuration (Production)
# Enable SSL for database connections (default: true in production, false in development)
# DB_SSL=true
# Reject unauthorized SSL certificates (default: true in production)
# DB_SSL_REJECT_UNAUTHORIZED=true
# Base64-encoded CA certificate for custom SSL verification
# DB_SSL_CA="base64-encoded-ca-certificate"
# Base64-encoded client certificate for mutual TLS
# DB_SSL_CERT="base64-encoded-client-certificate"
# Base64-encoded client key for mutual TLS
# DB_SSL_KEY="base64-encoded-client-key"

# Database Query Logging
# Enable query logging (default: true in development, false in production)
# DB_LOG_QUERIES=false
# Log connection pool events (development only)
# DB_LOG_CONNECTIONS=false

# Drizzle ORM Configuration
DRIZZLE_SCHEMA_PATH="./src/db/schema"
DRIZZLE_MIGRATIONS_PATH="./src/db/migrations"

# Redis
REDIS_URL="redis://localhost:6379"

# JWT
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"

# Server
PORT=4000
NODE_ENV="development"

# Logging
LOG_LEVEL="info"

# File Storage
UPLOAD_DIR="./uploads"
TEMP_DIR="./temp"

# Security
BCRYPT_ROUNDS=10
ENCRYPTION_KEY="your-32-character-encryption-key-here"

# External Services
WEBHOOK_BASE_URL="http://localhost:4000/webhook"

# Development
ENABLE_CORS=true
CORS_ORIGIN="http://localhost:3000"

# Rate Limiting
# Form Fetch Rate Limiting (GET requests)
FORM_FETCH_WINDOW_MS=60000        # 1 minute
FORM_FETCH_MAX_REQUESTS=30        # 30 requests per window

# Form Submit Rate Limiting (POST requests)
FORM_SUBMIT_WINDOW_MS=900000      # 15 minutes
FORM_SUBMIT_MAX_REQUESTS=5        # 5 submissions per window

# General API Rate Limiting
API_WINDOW_MS=60000               # 1 minute
API_MAX_REQUESTS=100              # 100 requests per window

# Authentication Rate Limiting
AUTH_WINDOW_MS=900000             # 15 minutes
AUTH_MAX_REQUESTS=5               # 5 attempts per window

# Rate Limiting Control
RATE_LIMIT_ENABLED=true           # Enable/disable rate limiting globally
RATE_LIMIT_SKIP_LOCALHOST=true    # Skip localhost in development mode

# OAuth Providers (optional - leave empty to disable)
# Google OAuth
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# GitHub OAuth
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# better-auth Configuration
# Session secret for signing cookies (required in production)
BETTER_AUTH_SECRET="your-better-auth-secret-change-in-production"